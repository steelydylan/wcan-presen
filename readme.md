JavaScriptライブラリを配布する際に気をつけていること。と題しまして有限会社アップルップル堀が発表させていただきます。

目次はご覧のようになっています。

みなさんは JavaScriptのライブラリを開発して公開したことがありますでしょうか？
今回は自分たちが普段どのようなことを考えてJavaScriptのライブラリを開発し公開しているかそのノウハウをみなさんと共有できたらと思っています。開発したことがある人もない人も為になると思うのでぜひ聞いてください。

まず自己紹介からさせていただきます。


早速ですが、最近会社ではオープンソースなJavaScript開発に力を入れています。
自分が今までお仕事で開発したJavaScriptのライブラリはご覧の5つがあります。
これら5つとも、車輪の再発明ではありません。似たようなライブラリはあるけれど、自分たちのWeb制作の過程でニーズを完全に満たしているJavaScriptが世間になかったので作りました。

例えば最初にオープンソースとして公開した hiraku.js ですが、これはオフキャンバスといってサイドからメニューを出現させる為のJavaScriptライブラリです。これを作った理由としてはアクセシビリティへの対応や、メニューのスクロール時にメインコンテンツをスクロールさせない為です。ほとんどのライブラリでサイドメニューを単体で動かすことができなかったので作りました。またサイドメニューをどこに設置しても動くように工夫しています。

次に制作したのが、a-table.jsです。これは a-blog cmsで記事を作成する際、テーブルのレイアウトをHTMLの知識がない人でも容易に制作できるように開発したライブラリです。テーブルの編集を可能にするJavaScriptは他にもあるのですがセルひとつひとつに対してクラスを触れたり、ソースを直接編集できるようなJavaScriptが他になかったので作りました。

次は modal-video.jsです。これはクラスやidなどを指定するだけで簡単にYoutubeやvimeoのモーダルを出現させるためのJavaScriptです。Videoをモーダル表示するJavaScriptがなかったので作りました。

また、Reactの勉強の為にreact-modal-video.jsも制作し公開しました。

そして今作っているのが写真を閲覧する為のJavaScriptです。スマートフォンで閲覧した時に横幅いっぱいに表示してもまだ画像が鮮明にみれないことがよくありますよね。このJavaScriptを使うと写真をタップするとスクリーンサイズを超えて画像が表示されます。またジャイロセンサーを使っているので、スマートフォンを傾けて写真の全体像を確認することが可能です。

またソースコードを配布する際に気をつけていることとして、npmモジュールとしてrequireしても使えるようにしていることです。

githubページの作成
ドキュメントをしっかり残すことが大事。そうじゃないと使ってもらえない。

公開した後の楽しみはブログに「はてブ」がついたりgithubのサイトでStarが増えていたりする時です。

自分が主催しているNagoya.jsではモダンなJavaScript開発の為の勉強会をしています。
ライブラリの開発時の工夫をさらに詳しくお話ししますので興味のある方はぜひご参加下さい。

実際に使われたサイトは興味のある人は聞いてください。

よかったら使ってね

使いやすい設計
